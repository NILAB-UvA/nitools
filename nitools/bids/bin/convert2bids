#!/usr/bin/env python

import argparse
import os
import os.path as op
from bidsconverter import BIDSConstructor

DESC = ("This is a command line tool to convert "
        "unstructured data-directories to a BIDS-compatible format")

parser = argparse.ArgumentParser(description=DESC)

parser.add_argument('-d', '--directory',
                    help='Directory to be converted.',
                    required=False,
                    default=os.getcwd())

parser.add_argument('-c', '--config_file',
                    help='Config-file with img. acq. parameters',
                    required=False,
                    default=op.join(os.getcwd(), 'config.json'))

args = parser.parse_args()

bids_constructor = BIDSConstructor(args.directory, args.config_file)
bids_constructor.convert2bids()
